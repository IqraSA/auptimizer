

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Configure HPO Algorithm &mdash; Auptimizer  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Early Stopping" href="early_stop.html" />
    <link rel="prev" title="Create and run a new experiment" href="experiment.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/AuptimizerWhiteLong.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">Auptimizer Quickstart</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install and Setup Auptimizer</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="hpo.html">Hyperparameter Optimization</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="experiment.html">Create and run a new experiment</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configure HPO Algorithm</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supported-algorithms">Supported algorithms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-details">Configuration details</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-functionalities">Additional functionalities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#track-intermediate-results">Track intermediate results</a></li>
<li class="toctree-l4"><a class="reference internal" href="#save-the-best-model">Save the best model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#return-multiple-results">Return multiple results</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pause-and-resume-jobs">Pause and resume jobs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="early_stop.html">Early Stopping</a></li>
<li class="toctree-l2"><a class="reference internal" href="demo.html">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="r_user.html">Setup for R</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="compression_main.html">Model Compression</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="edge.html">Edge Deployment Tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dashboard.html">Auptimizer Dashboard</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developer.html">For Developers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="aup.html"><strong>Auptimizer</strong> APIs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Auptimizer</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="hpo.html">Hyperparameter Optimization</a> &raquo;</li>
        
      <li>Configure HPO Algorithm</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/algorithm.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configure-hpo-algorithm">
<h1>Configure HPO Algorithm<a class="headerlink" href="#configure-hpo-algorithm" title="Permalink to this headline">¶</a></h1>
<div class="section" id="supported-algorithms">
<h2>Supported algorithms<a class="headerlink" href="#supported-algorithms" title="Permalink to this headline">¶</a></h2>
<p><strong>Auptimizer</strong> supports a number of different HPO algorithms.  The names and descriptions are listed below:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 92%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Algorithm</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>passive</p></td>
<td><p>Manually run job (for debug purpose)</p></td>
</tr>
<tr class="row-odd"><td><p>random</p></td>
<td><p>Random search</p></td>
</tr>
<tr class="row-even"><td><p>sequence</p></td>
<td><p>Grid Search</p></td>
</tr>
<tr class="row-odd"><td><p>spearmint</p></td>
<td><p><a class="reference external" href="https://github.com/JasperSnoek/spearmint">Spearmint</a>: Bayesian Optimization based on Gaussian Process</p></td>
</tr>
<tr class="row-even"><td><p>bohb</p></td>
<td><p><a class="reference external" href="https://automl.github.io/HpBandSter/build/html/index.html">HpBandSter</a>: Bayesian Optimization and HyperBand</p></td>
</tr>
<tr class="row-odd"><td><p>hyperopt</p></td>
<td><p><a class="reference external" href="http://hyperopt.github.io/hyperopt/">Hyperopt</a>: Bayesian Optimization with Tree of Parzen Estimators (TPE)</p></td>
</tr>
<tr class="row-even"><td><p>hyperband</p></td>
<td><p><a class="reference external" href="https://github.com/zygmuntz/hyperband">Hyperband</a>: Multi-armed bandit approach</p></td>
</tr>
<tr class="row-odd"><td><p>eas</p></td>
<td><p><a class="reference external" href="https://github.com/han-cai/EAS">EAS</a>: Efficient Architecture Search by Network Transformation (Illustration purpose)</p></td>
</tr>
</tbody>
</table>
<p>Use <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">aup.init</span></code> to set up the experiment configuration interactively.</p>
<p>For finer control, advanced users can change the configuration manually by directly modifying the <code class="docutils literal notranslate"><span class="pre">experiment.json</span></code>
file.</p>
</div>
<div class="section" id="configuration-details">
<h2>Configuration details<a class="headerlink" href="#configuration-details" title="Permalink to this headline">¶</a></h2>
<p>Below we cover the most common pieces. For requirements related to specific algorithms, please refer to the respective
documentation.</p>
<p>The general structure of the configuration file is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s2">&quot;proposer&quot;</span><span class="p">:</span> <span class="s2">&quot;random&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_samples&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
 <span class="s2">&quot;random_seed&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="s2">&quot;auto.py&quot;</span><span class="p">,</span>
 <span class="s2">&quot;parameter_config&quot;</span><span class="p">:</span> <span class="p">[</span>
   <span class="p">{</span>
     <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span>
     <span class="s2">&quot;range&quot;</span><span class="p">:</span> <span class="p">[</span>
       <span class="o">-</span><span class="mi">5</span><span class="p">,</span>
       <span class="mi">5</span>
     <span class="p">],</span>
     <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span>
   <span class="p">}</span>
 <span class="p">],</span>
 <span class="s2">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;cpu&quot;</span><span class="p">,</span>
 <span class="s2">&quot;resource_args&quot;</span><span class="p">:</span> <span class="p">{</span>
   <span class="s2">&quot;save_model&quot;</span><span class="p">:</span> <span class="n">true</span>
 <span class="p">},</span>
 <span class="s2">&quot;job_failure&quot;</span><span class="p">:</span> <span class="p">{</span>
   <span class="s2">&quot;job_retries&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
   <span class="s2">&quot;ignore_fail&quot;</span><span class="p">:</span> <span class="n">true</span>
 <span class="p">},</span>
 <span class="s2">&quot;n_parallel&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
 <span class="s2">&quot;target&quot;</span><span class="p">:</span><span class="s2">&quot;min&quot;</span><span class="p">,</span>
 <span class="s2">&quot;workingdir:&quot;</span><span class="o">./</span><span class="s2">&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 6%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>proposer</p></td>
<td><p>random</p></td>
<td><p>hpo method used to propose new hyperparameter values (see below for full list)</p></td>
</tr>
<tr class="row-odd"><td><p>n_samples</p></td>
<td><p>10</p></td>
<td><p>number of jobs to run</p></td>
</tr>
<tr class="row-even"><td><p>script</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>script to run</p></td>
</tr>
<tr class="row-odd"><td><p>n_parallel</p></td>
<td><p>1</p></td>
<td><p>number of parallel jobs</p></td>
</tr>
<tr class="row-even"><td><p>job_retries</p></td>
<td><p>0</p></td>
<td><p>number of retries for failed jobs.</p></td>
</tr>
<tr class="row-odd"><td><p>ignore_fail</p></td>
<td><p>False</p></td>
<td><p>whether to continue the experiment if a job fails.</p></td>
</tr>
<tr class="row-even"><td><p>target</p></td>
<td><p>max</p></td>
<td><p>search for max or min</p></td>
</tr>
<tr class="row-odd"><td><p>resource</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>type of resource to run the experiment, [cpu, gpu, aws, node, passive]</p></td>
</tr>
<tr class="row-even"><td><p>parameter_config</p></td>
<td><p>{}</p></td>
<td><p>hyperparameter specification (see below)</p></td>
</tr>
<tr class="row-odd"><td><p>workingdir</p></td>
<td><p>“./”</p></td>
<td><p>path to run the script, important for running jobs remotely (SSH/AWS)</p></td>
</tr>
<tr class="row-even"><td><p>resource_args</p></td>
<td><p>{}</p></td>
<td><p>other parameters to enable features like tracking intermediate results, saving best model, etc (see below)</p></td>
</tr>
</tbody>
</table>
<p>for <code class="docutils literal notranslate"><span class="pre">parameter_config</span></code>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Content</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>name</p></td>
<td><p>name of the hyperparameter variable. Must be the same as used in the training script</p></td>
</tr>
<tr class="row-odd"><td><p>range</p></td>
<td><p>[min, max] or a list of values</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><cite>float</cite>, <cite>int</cite>, <cite>choice</cite> types are supported</p></td>
</tr>
</tbody>
</table>
<p>Minor modifications or changes may be required for each algorithm. These options can be found at the corresponding API
pages under <a class="reference internal" href="aup.Proposer.html"><span class="doc">aup.Proposer package</span></a> (see API links below).</p>
<p>for <code class="docutils literal notranslate"><span class="pre">resource_args</span></code>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 7%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>save_model</p></td>
<td><p>False</p></td>
<td><p>whether to save the best performing model (see below)</p></td>
</tr>
<tr class="row-odd"><td><p>multi_res_labels</p></td>
<td><p>None</p></td>
<td><p>a list of additional results to be tracked, e.g. [“flops”, “param”]</p></td>
</tr>
<tr class="row-even"><td><p>track_intermediate_results</p></td>
<td><p>False</p></td>
<td><p>if true, intermediate results during training epoches will be tracked</p></td>
</tr>
<tr class="row-odd"><td><p>early_stop</p></td>
<td><p>None</p></td>
<td><p>parameters related to early stopping strategies</p></td>
</tr>
</tbody>
</table>
<p>For details of the <code class="docutils literal notranslate"><span class="pre">early_stop</span></code> parameter and how to apply early stopping strategies to HPO experiments, please refer to
<a class="reference internal" href="early_stop.html"><span class="doc">Early Stopping</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">resource_args</span></code> can also include SSH/AWS specific parameters, please refer to <a class="reference internal" href="experiment.html#awsruntimeanchor"><span class="std std-ref">Additional runtime configuration for Node/AWS</span></a> for more details.</p>
<p><strong>Note</strong>:</p>
<div class="line-block">
<div class="line">If <code class="docutils literal notranslate"><span class="pre">job_failure</span></code> is not specified, the experiment will stop whenever a job fails.</div>
<div class="line">For <code class="docutils literal notranslate"><span class="pre">job_retries</span></code>, preferance is given to a different resource, if multiple resources are available.</div>
<div class="line">For <code class="docutils literal notranslate"><span class="pre">ignore_fail</span></code>, currently [BOHB, EAS, Hyperband] proposers do not support experiment continuation upon job failure.</div>
</div>
</div>
<div class="section" id="additional-functionalities">
<h2>Additional functionalities<a class="headerlink" href="#additional-functionalities" title="Permalink to this headline">¶</a></h2>
<div class="section" id="track-intermediate-results">
<h3>Track intermediate results<a class="headerlink" href="#track-intermediate-results" title="Permalink to this headline">¶</a></h3>
<p>This feature allows the user to save and track multiple intermediate results at different points during the HPO experiment. Auptimizer still uses the final result as the main result for the HPO algorithm, but saves the intermediate records in the database under the table <code class="docutils literal notranslate"><span class="pre">intermediate_results</span></code>.</p>
<div class="section" id="usage">
<h4>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h4>
<p>The feature can be used by adding the following parameter to the experiment configuration file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;resource_args&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;track_intermediate_results&quot;</span><span class="p">:</span> <span class="n">true</span>
 <span class="p">}</span>
</pre></div>
</div>
<p>Then in the training script, <code class="docutils literal notranslate"><span class="pre">aup.print_result(res)</span></code> should be placed where the user wants the results to be tracked:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="c1"># model and data preparation</span>
    <span class="k">for</span> <span class="n">epoch</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_epochs</span><span class="p">):</span>
        <span class="c1"># training for one epoch</span>
        <span class="n">aup</span><span class="o">.</span><span class="n">print_result</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>
</div>
<p>In the above example, the intermediate results are returned every epoch. The result at last epoch is regarded as the main result for the user script and is then used by the HPO algorithm.</p>
<p>The intermediate results will be shown on the dashboard if tracked.</p>
<p><strong>Note</strong>: It is possible to use multiple results feature in conjunction with intermediate results to track multiple intermediate results as well.</p>
</div>
</div>
<div class="section" id="save-the-best-model">
<h3>Save the best model<a class="headerlink" href="#save-the-best-model" title="Permalink to this headline">¶</a></h3>
<p>This feature allows the user to save the best performing model after running the HPO experiment. This is achieved by
running the training script again using the best hyperparamters obtained during HPO the experiment.
The model, by default, will be saved to path <code class="docutils literal notranslate"><span class="pre">aup_models/models_&lt;eid&gt;/&lt;user_defined_model_path&gt;</span></code>.</p>
<div class="section" id="id1">
<h4>Usage<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>In order to use this feature, please add the following parameter to the experiment configuration file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;resource_args&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;save_model&quot;</span><span class="p">:</span> <span class="n">true</span>
 <span class="p">}</span>
</pre></div>
</div>
<p>Depending on whether the <code class="docutils literal notranslate"><span class="pre">&#64;aup_args</span></code> decorator is used, the training script needs the following additional modifications.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">&#64;aup_args</span></code> is used, the user needs to define a funtion to save the model, and register this function with <code class="docutils literal notranslate"><span class="pre">aup_save_model</span></code>.
We suggest using this approach if running the experiment on remote machines (SSH/AWS) to be able to correctly locate and retrieve the model saved
on the remote machine.</p>
<p>Please see the example below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># define a function &quot;save_model(model)&quot; to save the model to a user-defined path</span>
<span class="k">def</span> <span class="nf">save_model</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;model_train&#39;</span><span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./model_train/mnist.h5&#39;</span><span class="p">)</span>

<span class="nd">@aup_args</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="c1"># training code</span>
    <span class="o">...</span>
    <span class="c1"># register the model saving function with model as argument</span>
    <span class="n">aup</span><span class="o">.</span><span class="n">aup_save_model</span><span class="p">(</span><span class="n">save_model</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>

    <span class="o">...</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">&#64;aup_args</span></code> is not used, the user needs to manually check whether the <code class="docutils literal notranslate"><span class="pre">save_model</span></code> parameter is True in the job’s
configuration. The main function should also take <code class="docutils literal notranslate"><span class="pre">save_model</span></code> and <code class="docutils literal notranslate"><span class="pre">folder_name</span></code> as arguments. Please see the
example below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">save_model</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">folder_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="c1"># training code</span>
    <span class="o">...</span>
    <span class="k">if</span> <span class="n">save_model</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># manually locate the path for saving the model</span>
        <span class="c1"># this is important if running on remote machines</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;aup_models&#39;</span><span class="p">,</span> <span class="n">folder_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;aup_models&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;aup_models&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./model_train/mnist.h5&#39;</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="return-multiple-results">
<h3>Return multiple results<a class="headerlink" href="#return-multiple-results" title="Permalink to this headline">¶</a></h3>
<p>This feature allows the user to save and track multiple secondary results along with the primary result for the HPO experiment. Auptimizer still uses the main result for the HPO algorithm, but saves the secondary results in the database under the table <code class="docutils literal notranslate"><span class="pre">multiple_results</span></code>. There is no upper limit
on how many secondary results the user can track.</p>
<div class="section" id="id2">
<h4>Usage<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>The feature can be used by adding the following parameter to the experiment configuration file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;resource_args&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;multi_res_labels&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the above configuration file, <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are the secondary results the user wants to track and record. The user script would then return the results as a list including the primary result <code class="docutils literal notranslate"><span class="pre">res</span></code> along with the secondary parameters as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@aup_args</span>
<span class="k">def</span> <span class="nf">HPO</span><span class="p">():</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">calculate_results</span><span class="p">()</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">res</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span>
</pre></div>
</div>
<p>In the above example, <code class="docutils literal notranslate"><span class="pre">res</span></code> is the primary result which is always placed at the first index of the returned list, which will be used by the HPO algorithm. The remaining results are matched directly with the list provided in <code class="docutils literal notranslate"><span class="pre">multi_res_labels</span></code>. Hence, the length of the returned list from user script is  1 + length of <code class="docutils literal notranslate"><span class="pre">multi_res_labels</span></code> parameter.</p>
<p><strong>Note</strong>: It is possible to use multiple results feature in conjunction with intermediate results to track multiple intermediate results as well.</p>
</div>
</div>
<div class="section" id="pause-and-resume-jobs">
<h3>Pause and resume jobs<a class="headerlink" href="#pause-and-resume-jobs" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Serial: optimize parameters by running jobs sequentially</p></li>
<li><p>Parallel: optimize parameters by running jobs in parallel</p></li>
<li><p>Pause: pause and save current HPO status</p></li>
<li><p>Resume: resume previously paused HPO process</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 49%" />
<col style="width: 8%" />
<col style="width: 10%" />
<col style="width: 14%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Algorithm</p></th>
<th class="head"><p>Documentation</p></th>
<th class="head"><p>Serial</p></th>
<th class="head"><p>Parallel</p></th>
<th class="head"><p>Pause (save)</p></th>
<th class="head"><p>Resume</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Random</p></td>
<td><p><a class="reference internal" href="aup.Proposer.RandomProposer.html#module-aup.Proposer.RandomProposer" title="aup.Proposer.RandomProposer"><code class="xref py py-class docutils literal notranslate"><span class="pre">aup.Proposer.RandomProposer</span></code></a></p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
</tr>
<tr class="row-odd"><td><p>Sequence</p></td>
<td><p><a class="reference internal" href="aup.Proposer.SequenceProposer.html#module-aup.Proposer.SequenceProposer" title="aup.Proposer.SequenceProposer"><code class="xref py py-class docutils literal notranslate"><span class="pre">aup.Proposer.SequenceProposer</span></code></a></p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
</tr>
<tr class="row-even"><td><p>Passive</p></td>
<td><p><a class="reference internal" href="aup.EE.Resource.html#module-aup.EE.Resource.PassiveResourceManager" title="aup.EE.Resource.PassiveResourceManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">aup.EE.Resource.PassiveResourceManager</span></code></a></p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
</tr>
<tr class="row-odd"><td><p>Spearmint</p></td>
<td><p><a class="reference internal" href="aup.Proposer.SpearmintProposer.html#module-aup.Proposer.SpearmintProposer" title="aup.Proposer.SpearmintProposer"><code class="xref py py-class docutils literal notranslate"><span class="pre">aup.Proposer.SpearmintProposer</span></code></a></p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
</tr>
<tr class="row-even"><td><p>Hyperopt</p></td>
<td><p><a class="reference internal" href="aup.Proposer.HyperoptProposer.html#module-aup.Proposer.HyperoptProposer" title="aup.Proposer.HyperoptProposer"><code class="xref py py-class docutils literal notranslate"><span class="pre">aup.Proposer.HyperoptProposer</span></code></a></p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
</tr>
<tr class="row-odd"><td><p>Hyperband</p></td>
<td><p><a class="reference internal" href="aup.Proposer.HyperbandProposer.html#module-aup.Proposer.HyperbandProposer" title="aup.Proposer.HyperbandProposer"><code class="xref py py-class docutils literal notranslate"><span class="pre">aup.Proposer.HyperbandProposer</span></code></a></p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
</tr>
<tr class="row-even"><td><p>BOHB</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">aup.Proposer.BOHBProposer</span></code></p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
</tr>
<tr class="row-odd"><td><p>EAS</p></td>
<td><p><a class="reference internal" href="aup.Proposer.EASProposer.html#module-aup.Proposer.EASProposer" title="aup.Proposer.EASProposer"><code class="xref py py-class docutils literal notranslate"><span class="pre">aup.Proposer.EASProposer</span></code></a></p></td>
<td><p>✓</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
<td><p>❌</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="early_stop.html" class="btn btn-neutral float-right" title="Early Stopping" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="experiment.html" class="btn btn-neutral float-left" title="Create and run a new experiment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2018, LG Electronics Inc..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>